<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preflight Checklist</title>

    <!-- Link to Google Fonts for Space Grotesk -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Link to external CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body class="ai-style-change-1">

<h1 ;">Survey Air Pre-flight Checklist</h1>
<h2>CAD Input</h2>
<label for="cad">Enter CAD Number:</label>
<input type="number" id="cad" name="cad" min="1" placeholder="Enter CAD">

<h3>Operating Site Map</h3>
<input type="text" id="postcode" placeholder="Enter postcode">
<button onclick="updateMap()">Show Map</button>

<iframe 
    id="mapFrame"
    width="600" 
    height="450" 
    style="border:0; display: none;" 
    loading="lazy" 
    allowfullscreen 
    referrerpolicy="no-referrer-when-downgrade">
</iframe>

<script>
function updateMap() {
    var postcode = document.getElementById("postcode").value.trim();
    if (postcode !== "") {
        var mapUrl = "https://www.google.com/maps/embed/v1/place?key=AIzaSyD99grfIiAPHZmJA-iikwQJmgXz5IOu7wc&q=" + encodeURIComponent(postcode) + "&zoom=18&maptype=satellite";
        document.getElementById("mapFrame").src = mapUrl;
        document.getElementById("mapFrame").style.display = "block"; // Show map
    }
}
</script>

    <h2>On-Site Checklist</h2>
    <ul id="onsite-checklist">
    <li><input type="checkbox" id="sign-in"> Sign in</li>
    <li><input type="checkbox" id="safety-equipment"> Safety Equipment</li>
    <li><input type="checkbox" id="weather-conditions"> Weather conditions</li>
    <li><input type="checkbox" id="tols-safe-area"> TOLS - Established in safe area</li>
    <li><input type="checkbox" id="cordon"> Cordon (If necessary)</li>
    <li><input type="checkbox" id="risk-assessment"> Risk Assessment
    <br><textarea id="risk-assessment-text" placeholder="Enter Risk Assessment details" disabled=""></textarea>
    </li>
    <li><input type="checkbox" id="notams"> NOTAMs
    <br><textarea id="notams-text" placeholder="Enter NOTAMs details" disabled=""></textarea>
    </li>

    <!-- Links Section -->
    <li><strong>Important Links:</strong>
        <ul>
            <li><a href="https://dronesafetymap.com/?hsCtaTracking=b6fcfc7d-7407-4dc1-a704-87336e60a656%7C553a0e6e-33e7-4a4b-9c3f-7949e384667d#loc=51.5074000,0.1278000,12.9" target="_blank">Drone Safety Map</a></li>
            <li><a href="https://notaminfo.com/ukmap" target="_blank">NOTAM Information Map</a></li>
        </ul>
    </li>
    <li><input type="checkbox" id="atc-clearance"> ATC Final Clearance
    <br><textarea id="atc-clearance-text" placeholder="Enter ATC Clearance details" disabled=""></textarea>
    </li>
    
    <!-- Flight Crew Briefing Section -->
    <h2>Flight Crew Briefing</h2>
    <ul id="flight-crew-briefing">
        <li><input type="checkbox" id="imsafe"> IMSAFE</li>
        <li><input type="checkbox" id="safety"> Safety</li>
        <li><input type="checkbox" id="exercise"> Exercise</li>
        <li><input type="checkbox" id="equipment"> Equipment</li>
        <li><input type="checkbox" id="discipline"> Discipline</li>
        <li><input type="checkbox" id="signals"> Signals</li>
    </ul>
    
    <!-- Briefing Notes Section -->
    <h2>Briefing Notes</h2>
    <textarea id="briefing-notes" placeholder="Enter briefing notes here..."></textarea>

<h2>Operating Site</h2> 
<ul id="operating-site-checklist">
    <li><input type="checkbox" id="tols"> TOLS</li>
    <li><input type="checkbox" id="remote-pilot"> Remote Pilot</li>
    <li><input type="checkbox" id="flight-crew"> Flight Crew</li>
    <li><input type="checkbox" id="access-point"> Access Point</li>
    <li><input type="checkbox" id="access"> Access</li>
    <li><input type="checkbox" id="demise"> Demise</li>
    <li><input type="checkbox" id="flight-path"> Flight Path</li>
    <li><input type="checkbox" id="extra-tols"> Extra TOLS</li>
</ul>

<button onclick="fetchWeather()">Check Weather</button>
<p id="weather"></p>

<script src="./index_files/script.js"></script>

</body>
</html>
